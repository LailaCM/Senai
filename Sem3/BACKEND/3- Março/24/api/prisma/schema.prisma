generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Cliente{
  id          Int       @id @default(autoincrement())
  nome        String    @db.VarChar(100)
  telefone    String    @db.VarChar(15)
  logradouro  String    @db.VarChar(100)
  numero      String    @db.VarChar(10)
  bairro      String    @db.VarChar(50)
  referencia  String?   @db.VarChar(100)
  pedidos     Pedido[]
}
model Pizza{
  id          Int       @id @default(autoincrement())
  nome        String    @db.VarChar(100)
  descricao   String    @db.VarChar(100)
  valor       Float
  itens       Itens[]
}

model Pedido{
  id       Int       @id @default(autoincrement())
  cliente  Int       
  quando   DateTime @default(now())
  valor    Float
  itens    Itens[]
  feito    Cliente @relation(fields: [cliente], references: [id])
}

model Itens{
  id          Int    @id @default(autoincrement())
  pedido      Int
  pizza       Int
  quantidade  Int 
  valor       Float
  subtotal    Float
  contem      Pedido  @relation(fields: [pedido], references: [id])
  compoe      Pizza   @relation(fields: [pizza], references: [id])
}